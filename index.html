<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>VK API APP</title>
</head>
<body>
    <button id='load'>Show friends</button>
    <ul></ul>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type='text/javascript'>
    $('#load').on('click', loadFriends);
    function getUrl(method, params){
        if (!method){
            throw new Error('No method used');
        }
        params = params || {};
        params['access_token'] = '';
        return `https://api.vk.com/method/${method}?${$.param(params)}`
        
    }

    function sendRequest(method, params, func){
        $.ajax({
            url: getUrl(method, params),
            method: 'GET',
            dataType: 'JSONP',
            success: func,
        });
    }

    function loadFriends(){
        sendRequest('friends.search', {count: 5, fields: 'photo_100,online', v: '5.52'}, (data)=>{
            drawFriends(data.response.items);
        });
    }

    function drawFriends(friends){
        console.log(friends);
        let html = ''
        for (let i = 0; i < friends.length; ++i){
            let f = friends[i];
            html += `<li>
                        <a target="_blank" href="https://vk.com/id${f.id}">
                            <img src="${f.photo_100}" />
                            <div>
                                <h4>${f.first_name} ${f.last_name}</h4>
                            </div>
                        </a>
                    </li>`;
        }
        $('ul').html(html);
    }
</script>
</html>